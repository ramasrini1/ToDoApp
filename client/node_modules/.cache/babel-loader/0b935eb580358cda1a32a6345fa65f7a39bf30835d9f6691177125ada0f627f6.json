{"ast":null,"code":"var _jsxFileName = \"/Users/ramasrinivas/Documents/ToDoApp/client/src/Pages/Login.js\",\n  _s = $RefreshSig$();\nimport { useAuth } from '../Components/Auth/auth';\nimport { useNavigate } from 'react-router-dom';\nimport TodoApi from \"../Api/api\";\nimport { Link } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport Button from \"react-bootstrap/Button\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Login() {\n  _s();\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm();\n  const handleError = errors => {};\n  const registerOptions = {\n    username: {\n      required: \"Username is required\"\n    },\n    password: {\n      required: \"Password is required\"\n    }\n  };\n  const navigate = useNavigate();\n  const auth = useAuth();\n  async function handleLogin(data, evt) {\n    evt.preventDefault();\n    let user = {\n      username: data.username,\n      password: data.password\n    };\n    console.log(\"form data \" + user.username);\n    let result = await TodoApi.login(user);\n    if (result.status == 200) {\n      console.log(\"token is \" + result.token);\n      console.log(\"user is \" + user.username);\n      let u = {\n        username: user.username,\n        token: result.token\n      };\n      auth.login(u);\n      navigate(\"/todo\");\n    } else {\n      alert(\"Error logging in \" + result.msg);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"col-md-6 col-lg-4 offset-md-3 offset-lg-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"mt-4\",\n      children: \"Login Form\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card mt-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit(handleLogin, handleError),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Username\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"username\",\n              className: \"form-control\",\n              type: \"text\",\n              ...register('username', registerOptions.username)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              className: \"text-danger\",\n              children: (errors === null || errors === void 0 ? void 0 : errors.username) && errors.username.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"password\",\n              className: \"form-control\",\n              type: \"password\",\n              ...register('password', registerOptions.password)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              className: \"text-danger\",\n              children: (errors === null || errors === void 0 ? void 0 : errors.password) && errors.password.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              background: 'blue',\n              fontSize: 16\n            },\n            className: \"mt-4\",\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"fZdU+QsmWdzWWdzvj4xUA6VGjmg=\", false, function () {\n  return [useForm, useNavigate, useAuth];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useAuth","useNavigate","TodoApi","Link","useForm","Button","jsxDEV","_jsxDEV","Login","_s","register","handleSubmit","formState","errors","handleError","registerOptions","username","required","password","navigate","auth","handleLogin","data","evt","preventDefault","user","console","log","result","login","status","token","u","alert","msg","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","name","type","message","style","background","fontSize","_c","$RefreshReg$"],"sources":["/Users/ramasrinivas/Documents/ToDoApp/client/src/Pages/Login.js"],"sourcesContent":["import { useAuth } from '../Components/Auth/auth';\nimport { useNavigate } from 'react-router-dom';\nimport TodoApi from \"../Api/api\";\nimport { Link } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport Button from \"react-bootstrap/Button\";\n\nfunction Login(){\n \n  const { register, handleSubmit, formState: { errors } } = useForm();\n  const handleError = (errors) => {};\n\n  const registerOptions = {\n    username: { required: \"Username is required\" },\n    password: { required: \"Password is required\" },\n};\n\n  const navigate = useNavigate()\n  const auth = useAuth();\n\n  async function handleLogin( data, evt ) { \n    evt.preventDefault();\n    let user = {\n        username: data.username,\n        password: data.password,\n    }\n    console.log(\"form data \" + user.username)\n    let result = await TodoApi.login(user);\n    if ( result.status == 200 ){\n      console.log(\"token is \" + result.token)\n      console.log(\"user is \" + user.username)\n      let u = {username: user.username, token: result.token}\n      auth.login(u);\n      navigate(\"/todo\");\n    } else {\n      alert(\"Error logging in \" + result.msg)\n    }\n  }\n  return (\n    <div className=\"col-md-6 col-lg-4 offset-md-3 offset-lg-4\">\n      <h3 className=\"mt-4\">Login Form</h3>\n      <hr></hr>\n      <div className=\"card mt-4\">\n        <div className=\"card-body\">\n          <form onSubmit={handleSubmit(handleLogin, handleError)}>\n            <div className=\"form-group\">\n                <label>Username</label>\n                <input\n                    name=\"username\"\n                    className=\"form-control\" \n                    type=\"text\" {...register('username', registerOptions.username) }/>     \n                  <small className=\"text-danger\">\n                        {errors?.username && errors.username.message}\n                  </small>\n            </div>\n            <div className=\"form-group\">\n              <label>Password</label>\n              <input name=\"password\" className=\"form-control\" \n                  type=\"password\" {...register('password', registerOptions.password) }/>\n                <small className=\"text-danger\">\n                    {errors?.password && errors.password.message}\n                </small>\n            </div>\n            <button style={{ background: 'blue',  fontSize: 16 }} className=\"mt-4\">Submit</button>\n          </form>\n        </div>\n      </div>\n    </div>\n    );\n}\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}